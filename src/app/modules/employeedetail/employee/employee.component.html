<mat-card>
    <mat-card-title>Employee's Info</mat-card-title>
    <mat-card-subtitle>{{EmployeeName}}</mat-card-subtitle>
    <mat-card-content>
        <mat-spinner *ngIf="loading" diameter="25" style="position:relative;margin-left: 50%;"></mat-spinner>
        <alert></alert>
        <div style="margin:5px">
            <form [formGroup]="EmployeeForm">
                <mat-tab-group #changeEvent [selectedIndex]="selectedIndex" (selectedIndexChange)="tabChanged($event)"
                    class="demo-tab-group">
                    <mat-tab>
                        <ng-template mat-tab-label>
                            <mat-icon>info</mat-icon>Primary
                        </ng-template>

                        <div style="padding:15px 15px 10px 15px;"><strong>Primary</strong>
                            <!-- <div style="padding: 15px;overflow-x: hidden;" fxLayout="row wrap" fxLayoutGap="100px"> -->
                            <mat-grid-list cols="3" rowHeight="100px" #basic>

                                <mat-grid-tile [colspan]="1" [rowspan]="1">
                                    <mat-form-field appearance="outline" fxFlex>
                                        <mat-label>First Name</mat-label>
                                        <input formControlName="FirstName" autocomplete="Off" #input matInput
                                            [maxlength]="30">
                                        <span class="text-danger"
                                            *ngIf="f.FirstName.touched && f.FirstName.hasError('required')">First Name
                                            is required.</span>
                                    </mat-form-field>
                                </mat-grid-tile>
                                <mat-grid-tile [colspan]="1" [rowspan]="1">
                                    <mat-form-field appearance="outline" fxFlex>
                                        <mat-label>Last Name</mat-label>
                                        <input formControlName="LastName" autocomplete="Off" #input matInput
                                            [maxlength]="30">
                                    </mat-form-field>
                                </mat-grid-tile>
                                <mat-grid-tile [colspan]="1" [rowspan]="2">
                                    <div *ngIf="EmployeeId>0" fxLayout="column" fxLayoutAlign="space-between center">
                                        <span style="color:red;" *ngIf="message">{{message}}</span>
                                        <div style="padding-bottom: 15px;">
                                            <input #inputfile [hidden]="true" type="file" accept='image/*'
                                                (change)="preview(inputfile.files)" />
                                            <img [src]="imgURL" height="160" *ngIf="imgURL">
                                        </div>
                                        <div fxLayout="row" fxLayoutAlign="space-between center">
                                            <span>
                                                <button [disabled]="loading" class="mat-raised-button"
                                                    matTooltip="select file" color="primary"
                                                    (click)="inputfile.click()">
                                                    <mat-icon aria-label="photo">photo</mat-icon>
                                                </button>&nbsp;&nbsp;
                                                <button [disabled]="loading" type="submit" (click)="uploadFile()"
                                                    matTooltip="upload file" class="mat-raised-button">
                                                    <mat-icon aria-label="file_upload">file_upload</mat-icon>
                                                </button>&nbsp;&nbsp;
                                            </span>
                                        </div>
                                    </div>
                                </mat-grid-tile>
                                <mat-grid-tile [colspan]="1" [rowspan]="1">
                                    <mat-form-field appearance="outline" fxFlex>
                                        <mat-label>Employee Code</mat-label>
                                        <input formControlName="EmployeeCode" autocomplete="Off" #input matInput
                                            [maxlength]="30">
                                    </mat-form-field>
                                </mat-grid-tile>
                                <mat-grid-tile [colspan]="1" [rowspan]="1">
                                    <mat-form-field appearance="outline" fxFlex>
                                        <mat-label>Short Name</mat-label>
                                        <input formControlName="ShortName" autocomplete="Off" #input matInput
                                            [maxlength]="10">
                                    </mat-form-field>
                                </mat-grid-tile>
                                <mat-grid-tile [colspan]="1" [rowspan]="1">
                                    <mat-form-field appearance="outline" fxFlex>
                                        <mat-label>Father's name</mat-label>
                                        <input formControlName="FatherName" autocomplete="Off" #input matInput
                                            [maxlength]="30">
                                        <span class="text-danger"
                                            *ngIf="f.FatherName.touched && f.FatherName.hasError('required')">Father's
                                            name
                                            is required.</span>
                                    </mat-form-field>
                                </mat-grid-tile>
                                <mat-grid-tile [colspan]="1" [rowspan]="1">
                                    <mat-form-field appearance="outline" fxFlex>
                                        <mat-label>Mother's name</mat-label>
                                        <input formControlName="MotherName" autocomplete="Off" matInput
                                            [maxlength]="30">
                                        <span class="text-danger"
                                            *ngIf="f.MotherName.touched && f.MotherName.hasError('required')">Mother's
                                            name
                                            is required.</span>
                                    </mat-form-field>
                                </mat-grid-tile>
                                <mat-grid-tile [colspan]="1" [rowspan]="1">
                                    <mat-form-field appearance="outline" fxFlex>
                                        <mat-label>Gender</mat-label>
                                        <mat-select formControlName="Gender">
                                            <mat-option value="0">---</mat-option>
                                            <mat-option *ngFor="let p of Genders" [value]="p.MasterDataId">
                                                {{p.MasterDataName}}
                                            </mat-option>
                                        </mat-select>
                                        <span class="text-danger"
                                            *ngIf="f.Gender.touched && f.Gender.hasError('required')">Gender
                                            is required.</span>
                                    </mat-form-field>
                                </mat-grid-tile>
                                <mat-grid-tile [colspan]="1" [rowspan]="1">
                                    <mat-form-field appearance="outline">
                                        <mat-label>DOB</mat-label>
                                        <input formControlName="DOB" matInput [matDatepicker]="DOB" autocomplete="off">
                                        <mat-datepicker-toggle matSuffix [for]="DOB"></mat-datepicker-toggle>
                                        <mat-datepicker #DOB></mat-datepicker>
                                    </mat-form-field>
                                </mat-grid-tile>
                                <mat-grid-tile [colspan]="1" [rowspan]="1">
                                    <mat-form-field appearance="outline">
                                        <mat-label>DOJ</mat-label>
                                        <input formControlName="DOJ" matInput [matDatepicker]="DOJ" autocomplete="off">
                                        <mat-datepicker-toggle matSuffix [for]="DOJ"></mat-datepicker-toggle>
                                        <mat-datepicker #DOJ></mat-datepicker>
                                    </mat-form-field>
                                </mat-grid-tile>
                                <mat-grid-tile [colspan]="1" [rowspan]="1">
                                    <mat-form-field appearance="outline" fxFlex>
                                        <mat-label>Blood group</mat-label>
                                        <mat-select formControlName="Bloodgroup">
                                            <mat-option value="0">---</mat-option>
                                            <mat-option *ngFor="let p of Bloodgroup" [value]="p.MasterDataId">
                                                {{p.MasterDataName}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </mat-grid-tile>
                                <mat-grid-tile [colspan]="1" [rowspan]="1">
                                    <mat-form-field appearance="outline" fxFlex>
                                        <mat-label>Category</mat-label>
                                        <mat-select formControlName="CategoryId">
                                            <mat-option value="0">---</mat-option>
                                            <mat-option *ngFor="let p of Category" [value]="p.MasterDataId">
                                                {{p.MasterDataName}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </mat-grid-tile>
                                <mat-grid-tile [colspan]="1" [rowspan]="1">
                                    <mat-form-field appearance="outline" [style.width.px]="260">
                                        <mat-label>Religion</mat-label>
                                        <mat-select formControlName="ReligionId">
                                            <mat-option value="0">---</mat-option>
                                            <mat-option *ngFor="let p of Religion" [value]="p.MasterDataId">
                                                {{p.MasterDataName}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </mat-grid-tile>
                            </mat-grid-list>
                        </div>
                        <mat-card-actions fxLayout="row" fxLayoutAlign="center center">
                            <button [disabled]="loading" *ngIf="selectedIndex>0" (click)="previousStep()" alt="save"
                                class="mat-raised-button">
                                <mat-icon>navigate_before</mat-icon>
                            </button>
                            <button [disabled]="loading" *ngIf="selectedIndex<4" (click)="nextStep()" alt="save"
                                class="mat-raised-button">
                                <mat-icon>navigate_next</mat-icon>
                            </button>
                        </mat-card-actions>
                    </mat-tab>
                    <mat-tab>
                        <ng-template mat-tab-label>
                            <mat-icon>contact_page</mat-icon>Contact
                        </ng-template>
                        <div style="padding:15px 15px 10px 15px;"><strong>Contact</strong></div>
                        <div class="content" fxLayout="row wrap" fxLayoutGap="100px">
                            <mat-form-field appearance="outline">
                                <mat-label>employee's Contact no.</mat-label>
                                <input formControlName="ContactNo" autocomplete="Off" matInput [maxlength]="10">
                            </mat-form-field>
                            <mat-form-field appearance="outline">
                                <mat-label>Alternate Contact No.</mat-label>
                                <input formControlName="AlternateContactNo" autocomplete="Off" matInput
                                    [maxlength]="12">
                            </mat-form-field>
                            <mat-form-field appearance="outline">
                                <mat-label>Emergency Contact No.</mat-label>
                                <input formControlName="EmergencyContactNo" autocomplete="Off" matInput
                                    [maxlength]="12">
                            </mat-form-field>
                            <mat-form-field appearance="outline">
                                <mat-label>WhatsApp No.</mat-label>
                                <input formControlName="WhatsappNo" autocomplete="Off" matInput [maxlength]="12">
                            </mat-form-field>
                            <mat-form-field appearance="outline">
                                <mat-label>Email Address</mat-label>
                                <input type="email" formControlName="EmailAddress" autocomplete="Off" matInput
                                    [maxlength]="30">
                            </mat-form-field>                            
                            <div fxLayout="column">
                                <div fxLayout="column">
                                    <div>
                                        Present Address
                                    </div>
                                    <div fxLayout="row" style="margin-left: 0px;margin-bottom: 15px;padding:15px;border: 1px solid lightgray;">
                                        <mat-form-field>
                                            <mat-label>Present Address</mat-label>
                                            <textarea [maxlength]="256" matInput autocomplete="Off"
                                                formControlName="PresentAddress"></textarea>
                                        </mat-form-field>
                                        <mat-form-field appearance="outline" fxFlex>
                                            <mat-label>Pin code</mat-label>
                                            <input matInput formControlName="PresentAddressPincode" autocomplete="Off"
                                                [maxlength]="20">
                                        </mat-form-field>
                                        <mat-form-field appearance="outline" fxFlex>
                                            <mat-label>City</mat-label>
                                            <mat-select formControlName="PresentAddressCityId">
                                                <mat-option value="0">---</mat-option>
                                                <mat-option *ngFor="let p of City" [value]="p.MasterDataId">
                                                    {{p.MasterDataName}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                        <mat-form-field appearance="outline" fxFlex>
                                            <mat-label>State</mat-label>
                                            <mat-select formControlName="PresentAddressStateId">
                                                <mat-option value="0">---</mat-option>
                                                <mat-option *ngFor="let p of State" [value]="p.MasterDataId">
                                                    {{p.MasterDataName}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                        <mat-form-field appearance="outline" fxFlex>
                                            <mat-label>Country</mat-label>
                                            <mat-select formControlName="PresentAddressCountryId">
                                                <mat-option value="0">---</mat-option>
                                                <mat-option *ngFor="let p of Country" [value]="p.MasterDataId">
                                                    {{p.MasterDataName}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>
                                </div>
                                <div fxLayout="column">
                                    <div>Permanent Address</div>
                                    <div fxLayout="row" style="margin-left: 0px;margin-bottom: 15px;padding:15px;border: 1px solid lightgray;">
                                        <mat-form-field>
                                            <mat-label>Permanent Address</mat-label>
                                            <textarea [maxlength]="256" matInput autocomplete="Off"
                                                formControlName="PermanentAddress"></textarea>
                                        </mat-form-field>
                                        <mat-form-field appearance="outline" fxFlex>
                                            <mat-label>Pin code</mat-label>
                                            <input matInput formControlName="PermanentAddressPincode" autocomplete="Off"
                                                [maxlength]="20">
                                        </mat-form-field>
                                        <mat-form-field appearance="outline" fxFlex>
                                            <mat-label>City</mat-label>
                                            <mat-select formControlName="PermanentAddressCityId">
                                                <mat-option value="0">---</mat-option>
                                                <mat-option *ngFor="let p of City" [value]="p.MasterDataId">
                                                    {{p.MasterDataName}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                        <mat-form-field appearance="outline" fxFlex>
                                            <mat-label>State</mat-label>
                                            <mat-select formControlName="PermanentAddressStateId">
                                                <mat-option value="0">---</mat-option>
                                                <mat-option *ngFor="let p of State" [value]="p.MasterDataId">
                                                    {{p.MasterDataName}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                        <mat-form-field appearance="outline" fxFlex>
                                            <mat-label>Country</mat-label>
                                            <mat-select formControlName="PermanentAddressCountryId">
                                                <mat-option value="0">---</mat-option>
                                                <mat-option *ngFor="let p of Country" [value]="p.MasterDataId">
                                                    {{p.MasterDataName}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <mat-card-actions fxLayout="row" fxLayoutAlign="center center">
                            <button [disabled]="loading" *ngIf="selectedIndex>0" (click)="previousStep()" alt="save"
                                class="mat-raised-button">
                                <mat-icon>navigate_before</mat-icon>
                            </button>
                            <button [disabled]="loading" *ngIf="selectedIndex<4" (click)="nextStep()" alt="save"
                                class="mat-raised-button">
                                <mat-icon>navigate_next</mat-icon>
                            </button>
                        </mat-card-actions>
                    </mat-tab>
                    <mat-tab>
                        <ng-template mat-tab-label>
                            <mat-icon>account_balance</mat-icon>Bank Account
                        </ng-template>
                        <div style="padding:15px 15px 10px 15px;"><strong>Bank Account</strong></div>
                        <div class="content" fxLayout="row wrap" fxLayoutGap="100px">
                            <mat-form-field appearance="outline">
                                <mat-label>Account no.</mat-label>
                                <input formControlName="BankAccountNo" autocomplete="Off" matInput [maxlength]="20">
                            </mat-form-field>
                            <mat-form-field appearance="outline">
                                <mat-label>IFSC</mat-label>
                                <input formControlName="IFSCcode" autocomplete="Off" matInput [maxlength]="10">
                            </mat-form-field>
                            <mat-form-field appearance="outline">
                                <mat-label>MICR No.</mat-label>
                                <input formControlName="MICRNo" autocomplete="Off" matInput [maxlength]="20">
                            </mat-form-field>
                        </div>
                        <mat-card-actions fxLayout="row" fxLayoutAlign="center center">
                            <button [disabled]="loading" *ngIf="selectedIndex>0" (click)="previousStep()" alt="save"
                                class="mat-raised-button">
                                <mat-icon>navigate_before</mat-icon>
                            </button>
                            <button [disabled]="loading" *ngIf="selectedIndex<4" (click)="nextStep()" alt="save"
                                class="mat-raised-button">
                                <mat-icon>navigate_next</mat-icon>
                            </button>
                        </mat-card-actions>
                    </mat-tab>
                    <mat-tab>
                        <ng-template mat-tab-label>
                            <mat-icon>perm_identity</mat-icon>Identity
                        </ng-template>
                        <div style="padding:15px 15px 10px 15px;"><strong>Identity</strong></div>
                        <div class="content" fxLayout="row wrap" fxLayoutGap="100px">
                            <mat-form-field appearance="outline">
                                <mat-label>PAN</mat-label>
                                <input formControlName="PAN" autocomplete="Off" matInput [maxlength]="12">
                            </mat-form-field>
                            <mat-form-field appearance="outline">
                                <mat-label>Passport No.</mat-label>
                                <input formControlName="PassportNo" autocomplete="Off" matInput [maxlength]="12">
                            </mat-form-field>
                            <mat-form-field appearance="outline">
                                <mat-label>PF Account No.</mat-label>
                                <input formControlName="PFAccountNo" autocomplete="Off" matInput [maxlength]="20">
                            </mat-form-field>
                            <mat-form-field appearance="outline">
                                <mat-label>Aadhaar No</mat-label>
                                <input formControlName="AadharNo" autocomplete="Off" matInput [maxlength]="12">
                            </mat-form-field>
                        </div>
                        <mat-card-actions fxLayout="row" fxLayoutAlign="center center">
                            <button [disabled]="loading" *ngIf="selectedIndex>0" (click)="previousStep()" alt="save"
                                class="mat-raised-button">
                                <mat-icon>navigate_before</mat-icon>
                            </button>
                            <button [disabled]="loading" *ngIf="selectedIndex<4" (click)="nextStep()" alt="save"
                                class="mat-raised-button">
                                <mat-icon>navigate_next</mat-icon>
                            </button>
                        </mat-card-actions>
                    </mat-tab>
                    <mat-tab>
                        <ng-template mat-tab-label>
                            <mat-icon>note_add</mat-icon>Employment
                        </ng-template>
                        <div style="padding:15px 15px 10px 15px;"><strong>Identity</strong></div>

                        <div class="content" fxLayout="row wrap" fxLayoutGap="100px">
                            <mat-form-field appearance="outline">
                                <mat-label>Employment Type</mat-label>
                                <mat-select formControlName="EmploymentTypeId">
                                    <mat-option value="0">---</mat-option>
                                    <mat-option *ngFor="let p of EmploymentTypes" [value]="p.MasterDataId">
                                        {{p.MasterDataName}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                            <mat-form-field appearance="outline">
                                <mat-label>Employment Status</mat-label>
                                <mat-select formControlName="EmploymentStatusId">
                                    <mat-option value="0">---</mat-option>
                                    <mat-option *ngFor="let p of EmploymentStatus" [value]="p.MasterDataId">
                                        {{p.MasterDataName}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                            <mat-grid-tile [colspan]="1" [rowspan]="1">
                                <mat-form-field appearance="outline" [style.width.px]="270">
                                    <mat-label>Confirmation Date</mat-label>
                                    <input formControlName="ConfirmationDate" matInput [matDatepicker]="picker"
                                        autocomplete="off">
                                    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                                    <mat-datepicker #picker></mat-datepicker>
                                </mat-form-field>
                            </mat-grid-tile>
                            <mat-form-field appearance="outline" [style.width.px]="150">
                                <mat-label>Notice Period days</mat-label>
                                <input type="number" formControlName="NoticePeriodDays" autocomplete="Off" matInput
                                    [max]="1000">
                            </mat-form-field>
                            <mat-form-field appearance="outline" [style.width.px]="150">
                                <mat-label>Probation Period days</mat-label>
                                <input formControlName="ProbationPeriodDays" autocomplete="Off" matInput [max]="1000">
                            </mat-form-field>
                            <mat-form-field appearance="outline">
                                <mat-label>Marital Status</mat-label>
                                <mat-select formControlName="MaritalStatusId">
                                    <mat-option value="0">---</mat-option>
                                    <mat-option *ngFor="let p of MaritalStatus" [value]="p.MasterDataId">
                                        {{p.MasterDataName}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                            <mat-form-field appearance="outline" [style.width.px]="270">
                                <mat-label>Married Date</mat-label>
                                <input formControlName="MarriedDate" matInput [matDatepicker]="MarriedDate"
                                    autocomplete="off">
                                <mat-datepicker-toggle matSuffix [for]="MarriedDate"></mat-datepicker-toggle>
                                <mat-datepicker #MarriedDate></mat-datepicker>
                            </mat-form-field>
                            <mat-form-field appearance="outline">
                                <mat-label>Work Nature</mat-label>
                                <mat-select formControlName="NatureId">
                                    <mat-option value="0">---</mat-option>
                                    <mat-option *ngFor="let p of WorkNature" [value]="p.MasterDataId">
                                        {{p.MasterDataName}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                            <div>
                                <mat-checkbox (click)="deActivate($event)" formControlName="Active">
                                </mat-checkbox>&nbsp; Active
                            </div>                            
                            <mat-form-field appearance="outline" [style.width.pc]="50">
                                <mat-label>Remarks</mat-label>
                                <textarea formControlName="Remarks" autocomplete="Off" matInput
                                    [maxlength]="250"></textarea>
                            </mat-form-field>
                        </div>
                        <mat-card-actions fxLayout="row" fxLayoutAlign="center center">
                            <button [disabled]="loading" *ngIf="selectedIndex>0" (click)="previousStep()" alt="save"
                                class="mat-raised-button">
                                <mat-icon>navigate_before</mat-icon>
                            </button>
                            <button [disabled]="loading" (click)="SaveOrUpdate()" alt="save" class="mat-raised-button">
                                <mat-icon>save</mat-icon>
                            </button>
                            <button [disabled]="loading" (click)="back()" alt="save" class="mat-raised-button">
                                <mat-icon>arrow_back</mat-icon>
                            </button>
                        </mat-card-actions>
                    </mat-tab>

                </mat-tab-group>
            </form>
        </div>
    </mat-card-content>
    <mat-card-actions>
        <button [disabled]="loading" (click)="back()" class="mat-raised-button">
            <mat-icon>arrow_back</mat-icon>
        </button>
    </mat-card-actions>
</mat-card>